
<div style="margin-left: 200px; margin-right: 200px; font-size: 13px">
  <br>
  <h2>Truck</h2>
  <br>
    <p style="font-size: 20px; font-weight: 600">Edit</p>
  <br>

    <br>


    <form data-id="{{this.id}}" class="update-form">


        <div class="form-group row form-horizontal">
            <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Code</label>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" placeholder="Code" name="div_code" id="div_code" maxlength="3"
                    value="{{this.div_code}}" style="width: 60px">
            </div>
            <br><br>
            <label for="colFormLabelSm" class="col-sm-2 col-form-label col-form-label-sm">Name</label>
            <div class="col-sm-10">
                <input class="form-control form-control-sm" placeholder="Name" name="div_name" id="div_name" maxlength="45"
                    value="{{this.div_name}}" style="width: 200px">
            </div>

        </div>

        <br>
        <button type="submit" class="btn btn-secondary btn-sm" style="margin-top: 25px">Save</button>
        <br>
        <button class="btn btn-secondary btn-sm" style="margin-top: 25px" onclick="window.location.href='/master_division'">Cancel</button>
        <br>

    </form>
    <br>

</div>

<script type="text/javascript">

    $(".update-form").on("submit", function (event) {
        // Make sure to preventDefault on a submit event.
        event.preventDefault();


        var updatedPlan = {
            div_code: $("#div_code").val().trim(),
            div_name: $("#div_name").val().trim()
        };

        var id = $(this).data("id");
        // Send the PUT request.
        $.ajax("/b_division_list/" + id, {
            type: "PUT",
            data: updatedPlan
        }).then(
            function () {
                console.log("updated!");
                // Reload the page to get the updated list
                location.assign("/master_truck");
            }
        );
    });

</script>